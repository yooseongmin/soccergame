<html>
    <head>
        <meta charset="UTF-8">
        <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script>
        </script>
        <title>선수 등록창</title>
        <style>
            .container{
                margin-left : 25%;
                margin-right : 25%;
                margin-top : 25px;
                height : 450px;
                width : 50%;
                border : 1px solid black;
            }
            .player1{
               
                height : 200px;
                margin : 10px;
            }
            .player2{
                
                height : 200px;
                margin : 10px;
            }
            .player1_left{
                width : 50%;
                float : left;
                box-sizing : border-box;
                height : 100%;
               
            }
            .player1_right{
                width : 50%;
                float : right;
                box-sizing : border-box;
                height : 100%;
              
            }
            #profile_photo{
                width : 200px;
                height : 200px;
                border : 2px dotted black;
                margin-bottom : 20% ;
               
                margin-left : 10%;
                margin-right : 10%;
            }
            #img_src{
                margin-top : 10px;
                width : 132px;
            }
            #preview{
                width : 200px;
                height : 200px;
            }
            #basic_info{
                margin-top : 15%;
                text-align : right;
                margin-right : 15%;
                margin-bottom : 20%;
            }
            #basic_info input{
                margin : 10px;
            }
            .ability{
                width : 100%;
                text-align : center;
            }
            .ability_range{
                width :50%;
                margin-top : 10px;
                margin-left : 0px;
                
                
              
            }
            .ability_detail_value{
                width : 5%;
                float : right;
                margin-right :30px;
                margin-top : 10px;
                border : 1px solid black;
                margin-left : 15px;
            }
        </style>


    </head>
    <body>
        <div class="container">
            <div class="player1">
                <div class="player1_left">
                    <div id="profile_photo"><img id="preview" src="#"></div>
                    
                </div>
                <div class="player1_right">
                    <form id="basic_info">
                    <input type="file" id="img_src"><br>
                    이름 : <input id="basic_name" type="text"><br>
                    나이 : <input id="basic_age" type="text"><br>
                    소속팀 : <input id="basic_team" type="text">
                    </form>

                </div>
            </div>
            <hr style="border:2px solid gray">
            <div class="player2">
                <form enctype='multipart/form-data' action="player_registeration.php" id="player_ability" method="POST">
                    <input type="hidden" id="_img" name="_img">
                    <input type="hidden" id="_name" name="_name">
                    <input type="hidden" id="_age" name="_age">
                    <input type="file" id="_team" name="_team" style="display:none;">
                    
                <div class="ability">
                    <span class="ability_name">속도 :</span> 
                    <input type="range" step="1" value="" min="0" max=20 class="ability_range" onchange="myfunc(this)" name="speed">
                    <span class="result"></span>
                </div>

                <div class="ability">
                        <span class="ability_name">드리블 :</span> 
                        <input type="range" step="1" value="" min="0" max=20 class="ability_range" onchange="myfunc(this)" name="dribble">
                        <span class="result"></span>
                    </div>
                <div class="ability">
                        <span class="ability_name">멘탈 :</span> 
                        <input type="range" step="1" value="" min="0" max=20 class="ability_range" onchange="myfunc(this)" name="mental">
                        <span class="result"></span>
                    </div>
                <div class="ability">
                        <span class="ability_name">패스 :</span> 
                        <input type="range" step="1" value="" min="0" max=20 class="ability_range" onchange="myfunc(this)" name="pass">
                        <span class="result"></span>
                    </div>
                <div class="ability">
                        <span class="ability_name">피지컬 :</span> 
                        <input type="range" step="1" value="" min="0" max=20 class="ability_range" onchange="myfunc(this)" name="physical">
                        <span class="result"></span>
                    </div>  
                    <input type="button" value="등록하기" style="float:right; margin-top:20px;" onclick="onSubmit()">              
                </form>
                    
                


                    
                    
    

                
            </div>
           
        </div>
       
        
    </body>
    <script>
        /*
            var upload = document.querySelector("#img_src");
            upload.addEventListener('change', function(e){
                var get_file = e.target.files;
                console.log(get_file);
                document.getElementById("preview").src = e.target.result;
            })

            */
           // 이미지를 바꿀 수 있는 스크립트 입니다.
            var reader = new FileReader();
                reader.onload = function(e){
                    console.log(e);
                    document.getElementById("preview").src = e.target.result;
                };
            document.getElementById("img_src").onchange = function(){
               
                reader.readAsDataURL(this.files[0]);
                console.log(FileReader);
            };


            //위쪽에 있는 선수의 기본정보를 Form 안에 포함된 Hidden INPUT 태그에 값을 넣어주는 스크립트 입니다.
            function onSubmit(){
                document.getElementById("_name").value = document.getElementById("basic_name").value;
                document.getElementById("_age").value = document.getElementById("basic_age").value;
                document.getElementById("_team").value = document.getElementById("basic_team").value;
                document.getElementById("_img").files = document.getElementById("img_src").files;
                document.getElementById("player_ability").submit();
            }        
            //input range의 value 값을 넣는 스크립트입니다.
            function myfunc(newVal){
                var a = newVal.value;
                var b = newVal;

                console.log(newVal);
                b.nextElementSibling.innerText = a;


            };

            //test
            function test(){
            var aa = document.getElementById("_img").value;
            var a = document.getElementById("img_src").value;
            console.log(a);
            console.log(aa)
            };

     

        </script>
                    

</html>

